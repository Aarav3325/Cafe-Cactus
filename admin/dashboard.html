<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
  :root {
    --primary: #4f46e5;
    --primary-light: #818cf8;
    --secondary: #10b981;
    --danger: #ef4444;
    --warning: #f59e0b;
    --dark: #1f2937;
    --gray-light: #f9fafb;
    --gray: #e5e7eb;
    --text: #374151;
    --text-light: #6b7280;
    --white: #ffffff;
    --shadow-light: rgba(0, 0, 0, 0.1);
    --shadow-dark: rgba(0, 0, 0, 0.2);
  }

  * {
    box-sizing: border-box;
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
  }

  body {
    background-color: var(--gray-light);
    color: var(--text);
    display: flex;
    min-height: 100vh;
    font-size: 16px;
    transition: all 0.2s ease-in-out;
  }

  .sidebar {
    background-color: var(--dark);
    color: var(--white);
    width: 250px;
    padding: 1.5rem 0;
    display: flex;
    flex-direction: column;
    position: fixed;
    height: 100vh;
    box-shadow: 4px 0 10px var(--shadow-dark);
    transition: all 0.3s ease-in-out;
  }

  .sidebar-header {
    padding: 0 1.5rem 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .sidebar-header h1 {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--primary-light);
  }

  .sidebar-header p {
    font-size: 0.875rem;
    opacity: 0.7;
  }

  .nav-links {
    list-style: none;
    padding: 1.5rem 0;
  }

  .nav-item {
    padding: 0.875rem 1.5rem;
    display: flex;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.2s ease;
  }

  .nav-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
    transform: translateX(5px);
  }

  .nav-item.active {
    background-color: var(--primary);
    font-weight: 600;
  }

  .nav-item i {
    margin-right: 0.75rem;
    font-size: 1.125rem;
    width: 20px;
    text-align: center;
  }

  .main-content {
    flex: 1;
    padding: 2rem;
    margin-left: 250px;
    width: calc(100% - 250px);
    transition: all 0.2s ease-in-out;
  }

  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--dark);
  }

  .header-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
  }

  .btn {
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    border: none;
    font-weight: 500;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease, transform 0.2s ease;
  }

  .btn i {
    margin-right: 0.5rem;
  }

  .btn-primary {
    background-color: var(--primary);
    color: var(--white);
    box-shadow: 0 4px 8px var(--shadow-light);
  }

  .btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
  }

  .btn-success {
    background-color: var(--secondary);
    color: var(--white);
    box-shadow: 0 4px 8px var(--shadow-light);
  }

  .btn-success:hover {
    background-color: #34d399;
    transform: translateY(-2px);
  }

  .btn-danger {
    background-color: var(--danger);
    color: var(--white);
    box-shadow: 0 4px 8px var(--shadow-light);
  }

  .btn-danger:hover {
    background-color: #ef4444;
    transform: translateY(-2px);
  }

  .btn-warning {
    background-color: var(--warning);
    color: var(--white);
    box-shadow: 0 4px 8px var(--shadow-light);
  }

  .btn-warning:hover {
    background-color: #f59e0b;
    transform: translateY(-2px);
  }

  .card {
    background-color: var(--white);
    border-radius: 0.5rem;
    box-shadow: 0 4px 10px var(--shadow-light);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: box-shadow 0.2s ease, transform 0.2s ease;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 15px var(--shadow-dark);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--gray);
  }

  .card-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--dark);
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th,
  td {
    padding: 0.75rem 1rem;
    text-align: left;
  }

  th {
    background-color: #F7F7F7  ;
    color: var(--text);
    font-weight: 600;
  }

  tr:not(:last-child) td {
    border-bottom: 1px solid var(--gray);
  }

  .status {
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .status-pending {
    background-color: #fee2e2;
    color: #b91c1c;
  }

  .status-accepted {
    background-color: #e0f2fe;
    color: #0369a1;
  }

  .status-preparing {
    background-color: #fef3c7;
    color: #92400e;
  }

  .status-delivered {
    background-color: #d1fae5;
    color: #065f46;
  }

  .status-cancelled {
    background-color: #f3f4f6;
    color: #4b5563;
  }

  .table-actions {
    display: flex;
    gap: 0.5rem;
  }

  .btn-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--white);
    transition: background-color 0.2s ease;
  }

  .btn-icon:hover {
    background-color: var(--primary-light);
  }

  .modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    display: none;
  }

  .modal {
    background-color: var(--white);
    border-radius: 0.5rem;
    width: 100%;
    max-width: 500px;
    padding: 1.5rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--gray);
  }

  .modal-title {
    font-size: 1.25rem;
    font-weight: 600;
  }

  .modal-close {
    background: none;
    border: none;
    font-size: 1.25rem;
    cursor: pointer;
    color: var(--text-light);
  }

  .form-group {
    margin-bottom: 1rem;
  }

  .form-label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
  }

  .form-control {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid var(--gray);
    border-radius: 0.375rem;
    font-size: 1rem;
  }

  .modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    margin-top: 1.5rem;
  }

  .btn-secondary {
    background-color: var(--gray);
    color: var(--text);
  }

  .section {
    display: none;
  }

  .section.active {
    display: block;
  }

  .tag {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    background-color: var(--gray-light);
    border-radius: 0.25rem;
    font-size: 0.875rem;
    margin-right: 0.25rem;
    margin-bottom: 0.25rem;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: var(--primary);
    color: var(--white);
    font-size: 0.75rem;
    font-weight: 600;
  }

  .order-details {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  

  .order-item {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px dashed var(--gray);
  }

  .search-bar {
    display: flex;
    align-items: center;
    background-color: var(--white);
    border-radius: 0.375rem;
    padding: 0.5rem 1rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 4px 8px var(--shadow-light);
  }

  .search-bar input {
    border: none;
    outline: none;
    width: 100%;
    padding: 0.25rem;
    margin-left: 0.5rem;
    font-size: 1rem;
    color: var(--text);
  }

  .analytics-favorites {
    padding: 1rem;
  }
  
  .favorite-item {
    display: flex;
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .item-image-container {
    width: 80px;
    height: 80px;
    border-radius: 0.5rem;
    overflow: hidden;
    margin-right: 1rem;
  }
  
  .item-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .item-details {
    flex: 1;
    margin-right: 1rem;
  }
  
  .item-details h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
  }
  
  .item-rating {
    color: #ffc107;
    margin-bottom: 0.5rem;
  }
  
  .item-rating span {
    color: #6b7280;
    font-size: 0.875rem;
    margin-left: 0.5rem;
  }
  
  .item-likes {
    font-size: 0.875rem;
  }
  
  .item-stats {
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }
  
  .stat-chart {
    width: 100px;
    height: 30px;
  }
  
  .trend-chart {
    width: 100%;
    height: 100%;
  }
  
  .stat-percentage, .stat-sales {
    text-align: center;
  }
  
  .stat-percentage span, .stat-sales span {
    font-size: 1.25rem;
    font-weight: 700;
    display: block;
  }
  
  .stat-percentage p, .stat-sales p {
    margin: 0;
    font-size: 0.75rem;
    color: #6b7280;
  }
  
  .stat-circle {
    position: relative;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .stat-circle svg {
    position: absolute;
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
  }
  
  .stat-circle span {
    font-size: 0.875rem;
    font-weight: 700;
  }
  
  .card-footer {
    padding: 1rem;
    text-align: center;
    border-top: 1px solid #e5e7eb;
  }
  
  .btn-text {
    background: none;
    border: none;
    color: #6b7280;
    cursor: pointer;
    font-size: 0.875rem;
  }
  
  .analytics-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-top: 1rem;
  }
  
  .trending-items {
    padding: 1rem;
  }
  
  .trending-item {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .trending-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
  
  .trend-rank {
    width: 2rem;
    height: 2rem;
    background-color: #e91e63;
    color: white;
    border-radius: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    margin-right: 1rem;
  }
  
  .trend-image {
    width: 60px;
    height: 60px;
    border-radius: 0.25rem;
    overflow: hidden;
    margin-right: 1rem;
  }
  
  .trend-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .trend-details {
    flex: 1;
  }
  
  .trend-details h4 {
    margin: 0 0 0.25rem 0;
    font-size: 0.875rem;
    font-weight: 600;
  }
  
  .trend-details p {
    margin: 0;
    font-weight: 700;
  }
  
  .trend-orders {
    font-size: 0.75rem;
    color: #6b7280;
  }
  
  .sales-summary {
    padding: 1rem;
    display: flex;
    gap: 1rem;
  }
  
  .summary-metrics {
    flex: 1;
  }
  
  .metric {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
  }
  
  .metric-icon {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    color: white;
  }
  
  .metric-details p {
    margin: 0;
    font-size: 0.75rem;
    color: #6b7280;
  }
  
  .metric-details h3 {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 700;
  }
  
  .summary-chart {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  .doughnut-chart {
    width: 100%;
    max-width: 200px;
    height: auto;
  }
  
  .loyal-customers {
    padding: 1rem;
  }
  
  .loyal-customer {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #e5e7eb;
  }

.loyal-customer:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
  
  .customer-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 1rem;
  }
  
  .customer-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .customer-details h4 {
    margin: 0 0 0.25rem 0;
    font-size: 1rem;
  }
  
  .customer-details p {
    margin: 0;
    font-size: 0.875rem;
    color: #6b7280;
  }
  
  .best-sellers {
    padding: 1rem;
  }
  
  .best-seller-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  
  .best-seller-item {
    border-radius: 0.5rem;
    overflow: hidden;
    height: 100px;
  }
  
  .best-seller-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>


  </head>

<body>
  <aside class="sidebar">
    <div class="sidebar-header">
      <h1>Cafe Cactus</h1>
      <p>Dashboard</p>
    </div>
    <ul class="nav-links">
      <li class="nav-item active" data-section="dashboard">
        <i class="fas fa-chart-line"></i>
        <span>Dashboard</span>
      </li>
      <li class="nav-item" data-section="orders">
        <i class="fas fa-clipboard-list"></i>
        <span>Orders</span>
      </li>
      <li class="nav-item" data-section="menu">
        <i class="fas fa-utensils"></i>
        <span>Menu</span>
      </li>
      <li class="nav-item" data-section="analytics">
        <i class="fas fa-chart-line"></i>
        <span>Analytics</span>
      </li>
    </ul>
  </aside>

  <main class="main-content">
    
    <!-- Dashboard Section -->
    <section class="section active" id="dashboard">
      <div class="header">
        <h1>Dashboard</h1>
        <div class="header-actions">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" class="search-input" placeholder="Search...">
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Today's Summary</h2>
        </div>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
          <!-- Total Orders -->
          <div style="background-color: #e0f2fe; padding: 1.25rem; border-radius: 0.5rem;">
            <div style="font-size: 0.875rem; color: #0369a1; margin-bottom: 0.5rem;">Total Orders</div>
            <div id="totalOrdersCount" style="font-size: 1.5rem; font-weight: 700;">0</div>
            <div id="ordersTrend" style="font-size: 0.75rem; color: #0369a1; margin-top: 0.5rem;">
            </div>
          </div>

          <!-- Revenue -->
          <div style="background-color: #d1fae5; padding: 1.25rem; border-radius: 0.5rem;">
            <div style="font-size: 0.875rem; color: #065f46; margin-bottom: 0.5rem;">Revenue</div>
            <div id="revenueAmount" style="font-size: 1.5rem; font-weight: 700;">₹0.00</div>
            <div id="revenueTrend" style="font-size: 0.75rem; color: #065f46; margin-top: 0.5rem;">
            </div>
          </div>

          <!-- Pending Orders -->
          <div style="background-color: #fef3c7; padding: 1.25rem; border-radius: 0.5rem;">
            <div style="font-size: 0.875rem; color: #92400e; margin-bottom: 0.5rem;">Pending Orders</div>
            <div id="pendingOrdersCount" style="font-size: 1.5rem; font-weight: 700;">0</div>
            <div style="font-size: 0.75rem; color: #92400e; margin-top: 0.5rem;">
            </div>
          </div>
        </div>
      </div>


      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Recent Orders</h2>
          <button class="btn btn-primary" onclick="switchSection('orders')">
            <i class="fas fa-eye"></i> View All
          </button>
        </div>
        <table>
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Customer</th>
              <th>Items</th>
              <th>Total</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="recentOrdersBody">
            <!-- Recent orders will be loaded here -->
          </tbody>
        </table>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Popular Items</h2>
          <button class="btn btn-primary" onclick="switchSection('menu')">
            <i class="fas fa-utensils"></i> Manage Menu
          </button>
        </div>
        <table>
          <thead>
            <tr>
              <th>Item</th>
              <th>Category</th>
              <th>Price</th>
              <th>Orders Today</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Cappuccino</td>
              <td>Coffee</td>
              <td>₹120</td>
              <td>18</td>
            </tr>
            <tr>
              <td>Chocolate Croissant</td>
              <td>Pastry</td>
              <td>₹90</td>
              <td>15</td>
            </tr>
            <tr>
              <td>Avocado Toast</td>
              <td>Breakfast</td>
              <td>₹180</td>
              <td>12</td>
            </tr>
            <tr>
              <td>Espresso</td>
              <td>Coffee</td>
              <td>₹80</td>
              <td>10</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Orders Section -->
    <section class="section" id="orders">
      <div class="header">
        <h1>Orders Management</h1>
        <div class="header-actions">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" class="search-input" placeholder="Search orders...">
          </div>
          <button class="btn btn-primary" onclick="openModal('addOrderModal')">
            <i class="fas fa-plus"></i> New Order
          </button>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">All Orders</h2>
          <div>
            <select id="statusFilter" class="status-select">
              <option value="all">All Statuses</option>
              <option value="pending">Pending</option>
              <option value="accepted">Accepted</option>
              <option value="preparing">Preparing</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Customer</th>
              <th>Items</th>
              <th>Total</th>
              <th>Status</th>
              <th>Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="ordersTableBody">
            <!-- Orders will be loaded here -->
          </tbody>
        </table>
        <div class="pagination">
          <span class="page-link">1</span>
          <span class="page-link">2</span>
          <span class="page-link">3</span>
          <span class="page-link">...</span>
          <span class="page-link">10</span>
        </div>
      </div>
    </section>

    <!-- Menu Section -->
    <section class="section" id="menu">
      <div class="header">
        <h1>Menu Management</h1>
        <div class="header-actions">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" class="search-input" placeholder="Search menu items...">
          </div>
          <button class="btn btn-primary" onclick="openModal('addMenuItemModal')">
            <i class="fas fa-plus"></i> Add Item
          </button>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Menu Items</h2>
          <div>
            <select id="categoryFilter" class="status-select">
              <option value="all">All Categories</option>
              <option value="coffee">Coffee</option>
              <option value="tea">Tea</option>
              <option value="pastry">Pastry</option>
              <option value="breakfast">Breakfast</option>
              <option value="lunch">Lunch</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th>Item</th>
              <th>Category</th>
              <th>Price</th>
              <th>Description</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="menuTableBody">
            <!-- Menu items will be loaded here -->
          </tbody>
        </table>
        <div class="pagination">
          <span class="page-link">1</span>
          <span class="page-link">2</span>
          <span class="page-link">3</span>
        </div>
      </div>
    </section>

    <!-- Customers Section -->
    <section class="section" id="customers">
      <div class="header">
        <h1>Customer Management</h1>
        <div class="header-actions">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" class="search-input" placeholder="Search customers...">
          </div>
          <button class="btn btn-primary" onclick="openModal('addCustomerModal')">
            <i class="fas fa-plus"></i> Add Customer
          </button>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">All Customers</h2>
        </div>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Phone</th>
              <th>Email</th>
              <th>Total Orders</th>
              <th>Last Order</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="customersTableBody">
            <!-- Customers will be loaded here -->
          </tbody>
        </table>
        <div class="pagination">
          <span class="page-link">1</span>
          <span class="page-link">2</span>
          <span class="page-link">3</span>
        </div>
      </div>
    </section>

    <!-- Settings Section -->
    <section class="section" id="settings">
      <div class="header">
        <h1>Settings</h1>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Cafe Information</h2>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
          <div class="form-group">
            <label class="form-label">Cafe Name</label>
            <input type="text" class="form-control" value="Urban Brew Cafe">
          </div>
          <div class="form-group">
            <label class="form-label">Address</label>
            <input type="text" class="form-control" value="123 Coffee Street, Brewville">
          </div>
          <div class="form-group">
            <label class="form-label">Phone</label>
            <input type="text" class="form-control" value="+91 9876543210">
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" value="contact@urbanbrew.com">
          </div>
          <div class="form-group">
            <label class="form-label">Opening Hours</label>
            <input type="text" class="form-control" value="8:00 AM - 9:00 PM">
          </div>
          <div class="form-group">
            <label class="form-label">Currency</label>
            <select class="form-control">
              <option selected>₹ (INR)</option>
              <option>$ (USD)</option>
              <option>€ (EUR)</option>
            </select>
          </div>
        </div>
        <div style="margin-top: 1rem;">
          <button class="btn btn-primary">
            <i class="fas fa-save"></i> Save Changes
          </button>
        </div>
      </div>
    </section>

    <section class="section" id="analytics">
      <div class="header">
        <h1>Analytics</h1>
        <div class="header-actions">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" class="search-input" placeholder="Search analytics...">
          </div>
        </div>
      </div>
    
      <!-- Most Favorites Items -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Most Favorite Items</h2>
          <div>
            <select id="timeFilter" class="status-select">
              <option value="today">Today</option>
              <option value="week" selected>This Week</option>
              <option value="month">This Month</option>
              <option value="year">This Year</option>
            </select>
          </div>
        </div>
        <div class="analytics-favorites">
          <!-- Item 1 -->
          <div class="favorite-item">
            <div class="item-image-container">
              <img src="https://cafecactus.netlify.app/img/menu/margheita.jpeg" alt="Classic Truffle Margherita" class="item-image">
            </div>
            <div class="item-details">
              <h3>Classic Truffle Margherita</h3>
              <div class="item-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
                <span>(124 votes)</span>
              </div>
              <div class="item-likes">
                <i class="fas fa-heart" style="color: #e91e63;"></i>
                <span>215 likes</span>
              </div>
            </div>
            <div class="item-stats">
              <div class="stat-chart">
                <svg viewBox="0 0 100 30" class="trend-chart">
                  <path d="M0,15 L10,10 L20,20 L30,5 L40,15 L50,10 L60,5 L70,15 L80,10 L90,5 L100,10" stroke="#e91e63" fill="none" stroke-width="2"></path>
                </svg>
              </div>
              <div class="stat-percentage">
                <span>45%</span>
                <p>Interest</p>
              </div>
              <div class="stat-sales">
                <span>6,732</span>
                <p>Total Sales</p>
              </div>
              <div class="stat-circle">
                <svg viewBox="0 0 36 36">
                  <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e91e63" stroke-width="3" stroke-dasharray="75, 100"></path>
                </svg>
                <span>75%</span>
              </div>
            </div>
          </div>
    
          <!-- Item 2 -->
          <div class="favorite-item">
            <div class="item-image-container">
              <img src="https://cafecactus.netlify.app/img/menu/belgian_%20mocha.jpeg" alt="Belgian Mocha" class="item-image">
            </div>
            <div class="item-details">
              <h3>Belgian Mocha</h3>
              <div class="item-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <span>(98 votes)</span>
              </div>
              <div class="item-likes">
                <i class="fas fa-heart" style="color: #e91e63;"></i>
                <span>198 likes</span>
              </div>
            </div>
            <div class="item-stats">
              <div class="stat-chart">
                <svg viewBox="0 0 100 30" class="trend-chart">
                  <path d="M0,20 L10,15 L20,10 L30,15 L40,10 L50,5 L60,15 L70,10 L80,15 L90,10 L100,5" stroke="#e91e63" fill="none" stroke-width="2"></path>
                </svg>
              </div>
              <div class="stat-percentage">
                <span>26%</span>
                <p>Interest</p>
              </div>
              <div class="stat-sales">
                <span>5,721</span>
                <p>Total Sales</p>
              </div>
              <div class="stat-circle">
                <svg viewBox="0 0 36 36">
                  <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e91e63" stroke-width="3" stroke-dasharray="62, 100"></path>
                </svg>
                <span>62%</span>
              </div>
            </div>
          </div>
    
    <!-- Item 3 -->
          <div class="favorite-item">
            <div class="item-image-container">
              <img src="https://cafecactus.netlify.app/img/menu/belgian_%20mocha.jpeg" alt="Truffle Fries" class="item-image">
            </div>
            <div class="item-details">
              <h3>Truffle Fries</h3>
              <div class="item-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
                <i class="far fa-star"></i>
                <span>(87 votes)</span>
              </div>
              <div class="item-likes">
                <i class="fas fa-heart" style="color: #e91e63;"></i>
                <span>174 likes</span>
              </div>
            </div>
            <div class="item-stats">
              <div class="stat-chart">
                <svg viewBox="0 0 100 30" class="trend-chart">
                  <path d="M0,15 L10,20 L20,15 L30,10 L40,15 L50,20 L60,15 L70,10 L80,15 L90,20 L100,15" stroke="#e91e63" fill="none" stroke-width="2"></path>
                </svg>
              </div>
              <div class="stat-percentage">
                <span>17%</span>
                <p>Interest</p>
              </div>
              <div class="stat-sales">
                <span>3,515</span>
                <p>Total Sales</p>
              </div>
              <div class="stat-circle">
                <svg viewBox="0 0 36 36">
                  <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e91e63" stroke-width="3" stroke-dasharray="52, 100"></path>
                </svg>
                <span>52%</span>
              </div>
            </div>
          </div>
    
          <div class="card-footer">
            <button class="btn btn-text">
              View more <i class="fas fa-chevron-down"></i>
            </button>
          </div>
        </div>
      </div>
    
      <!-- Analytics Dashboard -->
      <div class="analytics-grid">
        <!-- Daily Trending Menus -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">Daily Trending Menus</h2>
          </div>
          <div class="trending-items">
            <!-- Trending Item 1 -->
            <div class="trending-item">
              <div class="trend-rank">#1</div>
              <div class="trend-image">
                <img src="https://cafecactus.netlify.app/img/menu/margheita.jpeg" alt="Classic Truffle Margherita">
              </div>
              <div class="trend-details">
                <h4>Classic Truffle Margherita</h4>
                <p>₹499</p>
              </div>
              <div class="trend-orders">
                Orders: 56x
              </div>
            </div>
    
            <!-- Trending Item 2 -->
            <div class="trending-item">
              <div class="trend-rank">#2</div>
              <div class="trend-image">
                <img src="https://cafecactus.netlify.app/img/menu/belgian_%20mocha.jpeg" alt="Belgian Mocha">
              </div>
              <div class="trend-details">
                <h4>Belgian Mocha</h4>
                <p>₹349</p>
              </div>
              <div class="trend-orders">
                Orders: 42x
              </div>
            </div>
    
            <!-- Trending Item 3 -->
            <div class="trending-item">
              <div class="trend-rank">#3</div>
              <div class="trend-image">
                <img src="https://cafecactus.netlify.app/img/menu/molten_chocolate_lava.jpeg" alt="Molten Chocolate Lava Cake">
              </div>
              <div class="trend-details">
                <h4>Molten Chocolate Lava Cake</h4>
                <p>₹249</p>
              </div>
              <div class="trend-orders">
                Orders: 38x
              </div>
            </div>
    
            <!-- Trending Item 4 -->
            <div class="trending-item">
              <div class="trend-rank">#4</div>
              <div class="trend-image">
                <img src="https://cafecactus.netlify.app/img/menu/truffle_fries.jpeg" alt="Truffle Fries">
              </div>
              <div class="trend-details">
                <h4>Truffle Fries</h4>
                <p>₹349</p>
              </div>
              <div class="trend-orders">
                Orders: 32x
              </div>
            </div>
          </div>
        </div>
    
    <!-- Sales Summary -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">Sales Summary</h2>
            <div>
              <select id="salesPeriodFilter" class="status-select">
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly" selected>Monthly</option>
                <option value="yearly">Yearly</option>
              </select>
            </div>
          </div>
          <div class="sales-summary">
            <div class="summary-metrics">
              <div class="metric">
                <div class="metric-icon" style="background-color: #e91e63;">
                  <i class="fas fa-utensils"></i>
                </div>
                <div class="metric-details">
                  <p>Menu Sold</p>
                  <h3>63,876</h3>
                </div>
              </div>
              <div class="metric">
                <div class="metric-icon" style="background-color: #ffc107;">
                  <i class="fas fa-rupee-sign"></i>
                </div>
                <div class="metric-details">
                  <p>Revenue</p>
                  <h3>₹672,335</h3>
                </div>
              </div>
            </div>
            <div class="summary-chart">
              <svg viewBox="0 0 200 120" class="doughnut-chart">
                <!-- Outer arc -->
                <path d="M100,10 A90,90 0 0,1 190,100" stroke="#e91e63" stroke-width="10" fill="none" stroke-linecap="round"></path>
                <!-- Middle arc -->
                <path d="M100,25 A75,75 0 0,1 175,100" stroke="#ffc107" stroke-width="10" fill="none" stroke-linecap="round"></path>
                <!-- Inner arc -->
                <path d="M100,40 A60,60 0 0,1 160,100" stroke="#4caf50" stroke-width="10" fill="none" stroke-linecap="round"></path>
              </svg>
            </div>
          </div>
        </div>
      </div>
    
      <!-- Loyal Customers and Best Sellers -->
      <div class="analytics-grid">
        <!-- Loyal Customers -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">Loyal Customers</h2>
          </div>
          <div class="loyal-customers">
            <!-- Customer 1 -->
            <div class="loyal-customer">
              <div class="customer-avatar">
                <img src="/img/user.png" alt="Customer">
              </div>
              <div class="customer-details">
                <h4>Rahul Sharma</h4>
                <p>₹15,750 Total Orders</p>
              </div>
            </div>
    
            <!-- Customer 2 -->
            <div class="loyal-customer">
              <div class="customer-avatar">
                <img src="/img/user.png" alt="Customer">
              </div>
              <div class="customer-details">
                <h4>Priya Patel</h4>
                <p>₹12,350 Total Orders</p>
              </div>
            </div>
    
            <!-- Customer 3 -->
            <div class="loyal-customer">
              <div class="customer-avatar">
                <img src="/img/user.png" alt="Customer">
              </div>
              <div class="customer-details">
                <h4>Amit Singh</h4>
                <p>₹10,890 Total Orders</p>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Best Selling Menus -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">Best Seller Menus</h2>
          </div>
          <div class="best-sellers">
            <div class="best-seller-grid">
              <div class="best-seller-item">
                <img src="https://cafecactus.netlify.app/img/menu/margheita.jpeg" alt="Classic Truffle Margherita">
              </div>
              <div class="best-seller-item">
                <img src="https://cafecactus.netlify.app/img/menu/truffle_fries.jpeg" alt="Truffle Fries">
              </div>
              <div class="best-seller-item">
                <img src="https://cafecactus.netlify.app/img/menu/belgian_%20mocha.jpeg" alt="Belgian Mocha">
              </div>
              <div class="best-seller-item">
                <img src="https://cafecactus.netlify.app/img/menu/molten_chocolate_lava.jpeg" alt="Molten Chocolate Lava Cake">
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Modals -->
  <!-- Add Order Modal -->
  <div class="modal-backdrop" id="addOrderModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Add New Order</h3>
        <button class="modal-close" onclick="closeModal('addOrderModal')">×</button>
      </div>
      <div>
        <div class="form-group">
          <label class="form-label">Customer</label>
          <select class="form-control" id="orderCustomer">
            <option value="">Select Customer</option>
            <!-- Customers will be loaded here -->
          </select>
        </div>
        <div id="orderItems">
          <div class="form-group">
            <label class="form-label">Items</label>
            <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
              <select class="form-control" style="flex: 3;">
                <option value="">Select Item</option>
                <!-- Menu items will be loaded here -->
              </select>
              <input type="number" class="form-control" placeholder="Qty" min="1" value="1" style="flex: 1;">
              <button class="btn btn-danger" style="flex: 0 0 auto;">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
          <button class="btn btn-secondary" style="margin-bottom: 1rem;">
            <i class="fas fa-plus"></i> Add Item
          </button>
        </div>
        <div class="form-group">
          <label class="form-label">Status</label>
          <select class="form-control" id="orderStatus">
            <option value="pending">Pending</option>
            <option value="accepted">Accepted</option>
            <option value="preparing">Preparing</option>
            <option value="delivered">Delivered</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('addOrderModal')">Cancel</button>
        <button class="btn btn-primary" id="saveOrderBtn">Save Order</button>
      </div>
    </div>
  </div>

  <!-- Add Menu Item Modal -->
  <div class="modal-backdrop" id="addMenuItemModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Add Menu Item</h3>
        <button class="modal-close" onclick="closeModal('addMenuItemModal')">×</button>
      </div>
      <div>
        <div class="form-group">
          <label class="form-label">Item Name</label>
          <input type="text" class="form-control" id="menuItemName" placeholder="Enter item name">
        </div>
        <div class="form-group">
          <label class="form-label">Category</label>
          <select class="form-control" id="menuItemCategory">
            <option value="Coffee">Coffee</option>
            <option value="Pizza">Pizza</option>
            <option value="Pasta">Pasta</option>
            <option value="Breakfast">Breakfast</option>
            <option value="Sandwiches">Sandwiches</option>
            <option value="Quick">Quick Bites</option>
            <option value="Burgers">Burgers</option>
            <option value="Desserts">Desserts</option>
            <option value="Appetizers">Appetizers</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Price (₹)</label>
          <input type="number" class="form-control" id="menuItemPrice" placeholder="Enter price">
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-control" id="menuItemDescription" rows="3" placeholder="Enter description"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Image URL</label>
          <input type="text" class="form-control" id="menuItemImage" placeholder="Enter image URL">
        </div>
        <div class="form-group">
          <label class="form-label">Availability</label>
          <select class="form-control" id="menuItemAvailability">
            <option value="available">Available</option>
            <option value="unavailable">Unavailable</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('addMenuItemModal')">Cancel</button>
        <button class="btn btn-primary" id="saveMenuItemBtn">Save Item</button>
      </div>
    </div>
  </div>

  <!-- Update Menu Item Modal -->
  <div class="modal-backdrop" id="updateMenuItemModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Update Menu Item</h3>
        <button class="modal-close" onclick="closeModal('updateMenuItemModal')">×</button>
      </div>
      <div>
        <div class="form-group">
          <label class="form-label">Item Name</label>
          <input type="text" class="form-control" id="umenuItemName" placeholder="Enter item name">
        </div>
        <div class="form-group">
          <label class="form-label">Category</label>
          <select class="form-control" id="umenuItemCategory">
            <option value="Coffee">Coffee</option>
            <option value="Pizza">Pizza</option>
            <option value="Pasta">Pasta</option>
            <option value="Breakfast">Breakfast</option>
            <option value="Sandwiches">Sandwiches</option>
            <option value="Quick">Quick Bites</option>
            <option value="Burgers">Burgers</option>
            <option value="Desserts">Desserts</option>
            <option value="Appetizers">Appetizers</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Price (₹)</label>
          <input type="text" class="form-control" id="umenuItemPrice" placeholder="Enter price">
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-control" id="umenuItemDescription" rows="3" placeholder="Enter description"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Image URL</label>
          <input type="text" class="form-control" id="umenuItemImage" placeholder="Enter image URL">
        </div>
        <div class="form-group">
          <label class="form-label">Availability</label>
          <select class="form-control" id="umenuItemAvailability">
            <option value="available">Available</option>
            <option value="unavailable">Unavailable</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('updateMenuItemModal')">Cancel</button>
        <button class="btn btn-primary" id="updateMenuItemBtn">Save Item</button>
      </div>
    </div>
  </div>

  <!-- Add Customer Modal -->
  <div class="modal-backdrop" id="addCustomerModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Add Customer</h3>
        <button class="modal-close" onclick="closeModal('addCustomerModal')">×</button>
      </div>
      <div>
        <div class="form-group">
          <label class="form-label">First Name</label>
          <input type="text" class="form-control" id="customerFirstName" placeholder="Enter first name">
        </div>
        <div class="form-group">
          <label class="form-label">Last Name</label>
          <input type="text" class="form-control" id="customerLastName" placeholder="Enter last name">
        </div>
        <div class="form-group">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" id="customerEmail" placeholder="Enter email address">
        </div>
        <div class="form-group">
          <label class="form-label">Phone</label>
          <input type="tel" class="form-control" id="customerPhone" placeholder="Enter phone number">
        </div>
        <div class="form-group">
          <label class="form-label">Address</label>
          <textarea class="form-control" id="customerAddress" placeholder="Enter address"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('addCustomerModal')">Cancel</button>
        <button class="btn btn-primary" id="saveCustomerBtn">Save Customer</button>
      </div>
    </div>
  </div>

  <!-- View Order Details Modal -->
  <div class="modal-backdrop" id="viewOrderModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Order Details</h3>
        <button class="modal-close" onclick="closeModal('viewOrderModal')">×</button>
      </div>
      <div>
        <div class="form-group">
          <label class="form-label">Order ID</label>
          <div id="orderDetailsId" class="form-control"></div>
        </div>
        <div class="form-group">
          <label class="form-label">Customer</label>
          <div id="orderDetailsCustomer" class="form-control"></div>
        </div>
        <div class="form-group">
          <label class="form-label">Status</label>
          <select class="form-control" id="orderDetailsStatus">
            <option value="pending">Pending</option>
            <option value="accepted">Accepted</option>
            <option value="preparing">Preparing</option>
            <option value="delivered">Delivered</option>
            <option value="cancelled">Cancelled</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Items</label>
          <div id="orderDetailsItems" class="order-details"></div>
        </div>
        <div class="form-group">
          <label class="form-label">Total</label>
          <div id="orderDetailsTotal" class="form-control"></div>
        </div>
        <div class="form-group">
          <label class="form-label">Date</label>
          <div id="orderDetailsDate" class="form-control"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('viewOrderModal')">Close</button>
        <button class="btn btn-primary" id="updateOrderStatusBtn">Update Status</button>
      </div>
    </div>
  </div>

  <script>
    // JavaScript functionality will be added here
    document.addEventListener('DOMContentLoaded', function () {
      // Navigation
      document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', function () {
          // Remove active class from all items
          document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
          // Add active class to clicked item
          this.classList.add('active');

          // Show relevant section
          const sectionId = this.getAttribute('data-section');
          switchSection(sectionId);
        });
      });

      // Load initial data
      loadRecentOrders();
      loadOrders();
      loadMenuItems();
      loadCustomers();

      // Event listeners for save buttons
      document.getElementById('saveOrderBtn').addEventListener('click', saveOrder);
      document.getElementById('saveMenuItemBtn').addEventListener('click', saveMenuItem);
      document.getElementById('updateMenuItemBtn').addEventListener('click', updateMenuItem);
      document.getElementById('saveCustomerBtn').addEventListener('click', saveCustomer);
      document.getElementById('updateOrderStatusBtn').addEventListener('click', updateOrderStatus);

      // Event listeners for filters
      document.getElementById('statusFilter').addEventListener('change', filterOrders);
      document.getElementById('categoryFilter').addEventListener('change', filterMenuItems);
    });

    function switchSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });

      // Show selected section
      document.getElementById(sectionId).classList.add('active');
    }

    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'flex';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    // These functions will be implemented with API calls to MongoDB server
    function loadRecentOrders() {
  fetch('http://localhost:5000/orders/today')
    .then(response => response.json())
    .then(data => {
      const tableBody = document.getElementById('recentOrdersBody');
      tableBody.innerHTML = '';

      if (!data.success) {
        console.error('Failed to load orders:', data.message);
        return;
      }

      data.data.forEach(order => {
        console.log(order.orderId);

        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${order.orderId}</td>
          <td>${order.customer.firstName} ${order.customer.lastName}</td>
          <td>${order.items.length} items</td>
          <td>₹${order.total.toFixed(2)}</td>
          <td><span class="status status-${order.status.toLowerCase()}">${order.status}</span></td>
          <td class="table-actions">
            <button class="btn-icon btn-primary" onclick="viewOrder('${order.orderId}')">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        `;
        tableBody.appendChild(row);
      });
    })
    .catch(error => console.error('Error loading recent orders:', error));
}


    function loadOrders() {
      fetch('http://localhost:5000/orders')
        .then(response => response.json())
        .then(data => {
          const tableBody = document.getElementById('ordersTableBody');
          tableBody.innerHTML = '';


          console.log(data)

          data.data.forEach(order => {

            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${order.orderId}</td>
              <td>${order.customer.firstName}  ${order.customer.lastName}</td>
              <td>${order.items.length} items</td>
              <td>₹${order.total.toFixed(2)}</td>
              <td><span class="status status-${order.status.toLowerCase()}">${order.status}</span></td>
              <td>${new Date(order.orderDate).toLocaleDateString()}</td>
              <td class="table-actions">
                <button class="btn-icon btn-primary" onclick="viewOrder('${order.orderId}')">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="btn-icon btn-danger" onclick="deleteOrder('${order.orderId}')">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            `;
            tableBody.appendChild(row);
          });
        })
        .catch(error => console.error('Error loading orders:', error));
    }

    function loadMenuItems() {
      fetch('http://localhost:5000/api/menu')
        .then(response => response.json())
        .then(data => {
          const tableBody = document.getElementById('menuTableBody');
          tableBody.innerHTML = '';



          data.forEach(item => {
            const row = document.createElement('tr');
            console.log(item)
            row.innerHTML = `
              <td>${item.name}</td>
              <td>${item.category}</td>
              <td>${item.price}</td>
              <td>${item.description}</td>
              
              <td class="table-actions">
                <button class="btn-icon btn-primary" onclick="editMenuItem('${item.name}')">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon btn-danger" onclick="deleteMenuItem('${item.name}')">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            `;
            tableBody.appendChild(row);
          });
        })
        .catch(error => console.error('Error loading menu items:', error));
    }

    function loadCustomers() {
      fetch('/api/customers')
        .then(response => response.json())
        .then(data => {
          const tableBody = document.getElementById('customersTableBody');
          tableBody.innerHTML = '';

          // Also populate the customer dropdown in the order form
          const orderCustomerSelect = document.getElementById('orderCustomer');
          orderCustomerSelect.innerHTML = '<option value="">Select Customer</option>';

          data.forEach(customer => {
            // Add to customers table
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${customer.firstName} ${customer.lastName}</td>
              <td>${customer.phone}</td>
              <td>${customer.email}</td>
              <td>${customer.totalOrders || 0}</td>
              <td>${customer.lastOrder ? new Date(customer.lastOrder).toLocaleDateString() : 'N/A'}</td>
              <td class="table-actions">
                <button class="btn-icon btn-primary" onclick="editCustomer('${customer._id}')">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon btn-danger" onclick="deleteCustomer('${customer._id}')">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            `;
            tableBody.appendChild(row);

            // Add to order customer dropdown
            const option = document.createElement('option');
            option.value = customer._id;
            option.textContent = `${customer.firstName} ${customer.lastName}`;
            orderCustomerSelect.appendChild(option);
          });
        })
        .catch(error => console.error('Error loading customers:', error));
    }

    function saveOrder() {
      // Create order object from form data
      const customerId = document.getElementById('orderCustomer').value;
      const status = document.getElementById('orderStatus').value;

      // Get items (this is simplified, you'd need to handle multiple items)
      const items = [];
      // In a real implementation, you would loop through all item rows

      const orderData = {
        customerId,
        status,
        items
      };

      fetch('http://localhost:5000/orders', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(orderData)
      })
        .then(response => response.json())
        .then(data => {
          closeModal('addOrderModal');
          loadOrders();
          loadRecentOrders();
        })
        .catch(error => console.error('Error saving order:', error));
    }

    function saveMenuItem() {
      const menuItemData = {
        name: document.getElementById('menuItemName').value,
        category: document.getElementById('menuItemCategory').value,
        price: document.getElementById('menuItemPrice').value, // Keep as string
        description: document.getElementById('menuItemDescription').value,
        image: document.getElementById('menuItemImage').value // Include this if your schema expects image
      };



      fetch('http://localhost:5000/api/menu', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(menuItemData)
      })
        .then(response => response.json())
        .then(data => {
          closeModal('addMenuItemModal');
          loadMenuItems();
        })
        .catch(error => console.error('Error saving menu item:', error));
    }

    function updateMenuItem() {
      const originalName = document.getElementById('updateMenuItemBtn').getAttribute('data-original-name');

      const updatedData = {
        name: document.getElementById('umenuItemName').value,
        category: document.getElementById('umenuItemCategory').value,
        price: document.getElementById('umenuItemPrice').value,
        description: document.getElementById('umenuItemDescription').value,
        image: document.getElementById('umenuItemImage').value
      };

      console.log(document.getElementById('menuItemPrice').value)

      fetch(`http://localhost:5000/api/menu/${encodeURIComponent(originalName)}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(updatedData)
      })
        .then(response => response.json())
        .then(data => {
          console.log('Menu item updated:', data);
          closeModal('updateMenuItemModal');
          loadMenuItems(); // reloads UI list if you have this
        })
        .catch(error => console.error('Error updating menu item:', error));
    }




    function saveCustomer() {
      const customerData = {
        firstName: document.getElementById('customerFirstName').value,
        lastName: document.getElementById('customerLastName').value,
        email: document.getElementById('customerEmail').value,
        phone: document.getElementById('customerPhone').value,
        address: document.getElementById('customerAddress').value
      };

      fetch('/api/customers', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(customerData)
      })
        .then(response => response.json())
        .then(data => {
          closeModal('addCustomerModal');
          loadCustomers();
        })
        .catch(error => console.error('Error saving customer:', error));
    }

    function viewOrder(orderId) {
      fetch(`http://localhost:5000/orders/${orderId}`)
        .then(response => response.json())
        .then(order => {

          console.log(order.data.customer);
          document.getElementById('orderDetailsId').textContent = order.data.orderId;
          document.getElementById('orderDetailsCustomer').textContent = order.data.customer.firstName;
          document.getElementById('orderDetailsStatus').value = order.status;

          const itemsContainer = document.getElementById('orderDetailsItems');
          itemsContainer.innerHTML = '';

          order.data.items.forEach(item => {
            const itemElement = document.createElement('div');
            itemElement.className = 'order-item';
            itemElement.innerHTML = `
              <div>${item.name} x ${item.quantity}</div>
              <div>₹${(item.price * item.quantity).toFixed(2)}</div>
            `;
            itemsContainer.appendChild(itemElement);
          });

          document.getElementById('orderDetailsTotal').textContent = `₹${order.data.total.toFixed(2)}`;
          document.getElementById('orderDetailsDate').textContent = new Date(order.data.orderDate).toLocaleString();

          // Store order ID for update operation
          document.getElementById('updateOrderStatusBtn').setAttribute('data-order-id', order.data.orderId);

          openModal('viewOrderModal');
        })
        .catch(error => console.error('Error fetching order details:', error));
    }

    function updateOrderStatus() {
      const orderId = document.getElementById('updateOrderStatusBtn').getAttribute('data-order-id');
      const newStatus = document.getElementById('orderDetailsStatus').value;

      console.log(orderId);
      console.log(newStatus);

      fetch(`http://localhost:5000/orders/${orderId}`, {
        method: 'PATCH',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ status: newStatus })
      })
        .then(response => response.json())
        .then(data => {
          console.log(data);
          closeModal('viewOrderModal');
          loadOrders();
          loadRecentOrders();
        })
        .catch(error => console.error('Error updating order status:', error));
    }


    function deleteOrder(orderId) {
      if (confirm('Are you sure you want to delete this order?')) {
        console.log('Trying to delete order with ID:', orderId);

        fetch(`http://localhost:5000/orders/${orderId}`, {
          method: 'DELETE'
        })
          .then(response => {
            console.log('Response:', response);
            if (!response.ok) {
              throw new Error('Failed to delete');
            }
            return response.json();
          })
          .then(data => {
            console.log('Order deleted:', data);
            loadOrders();
            loadRecentOrders();
          })
          .catch(error => console.error('Error deleting order:', error));
      }
    }

  


    function editMenuItem(itemName) {
      // Fetch the menu item details and open the modal for editing
      fetch(`http://localhost:5000/api/menu/name/${itemName}`)
        .then(response => response.json())
        .then(item => {
          console.log(item);
          document.getElementById('umenuItemName').value = item.name;
          document.getElementById('umenuItemCategory').value = item.category;
          document.getElementById('umenuItemPrice').value = item.price;
          document.getElementById('umenuItemDescription').value = item.description;
          document.getElementById('umenuItemImage').value = item.image;

          // Store the item ID for update
          document.getElementById('updateMenuItemBtn').setAttribute('data-original-name', item.name);

          openModal('updateMenuItemModal');
        })
        .catch(error => console.error('Error fetching menu item:', error));
    }

    function deleteMenuItem(name) {
      if (confirm('Are you sure you want to delete this menu item?')) {
        fetch(`http://localhost:5000/api/menu/${name}`, {
          method: 'DELETE'
        })
          .then(response => response.json())
          .then(data => {
            loadMenuItems();
          })
          .catch(error => console.error('Error deleting menu item:', error));
      }
    }

    function editCustomer(customerId) {
      // Fetch the customer details and open the modal for editing
      fetch(`/api/customers/${customerId}`)
        .then(response => response.json())
        .then(customer => {
          document.getElementById('customerFirstName').value = customer.firstName;
          document.getElementById('customerLastName').value = customer.lastName;
          document.getElementById('customerEmail').value = customer.email;
          document.getElementById('customerPhone').value = customer.phone;
          document.getElementById('customerAddress').value = customer.address;

          // Store the customer ID for update
          document.getElementById('saveCustomerBtn').setAttribute('data-customer-id', customer._id);

          openModal('addCustomerModal');
        })
        .catch(error => console.error('Error fetching customer:', error));
    }

    function deleteCustomer(customerId) {
      if (confirm('Are you sure you want to delete this customer?')) {
        fetch(`/api/customers/${customerId}`, {
          method: 'DELETE'
        })
          .then(response => response.json())
          .then(data => {
            loadCustomers();
          })
          .catch(error => console.error('Error deleting customer:', error));
      }
    }

    function filterOrders() {
      const status = document.getElementById('statusFilter').value;
      let url = 'http://localhost:5000/orders';

      if (status !== 'all') {
        url += `?status=${status}`;
      }

      fetch(url)
        .then(response => response.json())
        .then(data => {
          // Re-render the orders table with filtered data
          const tableBody = document.getElementById('ordersTableBody');
          tableBody.innerHTML = '';

          data.forEach(order => {
            // Same code as in loadOrders()
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${order.orderId}</td>
              <td>${order.customer.name}</td>
              <td>${order.items.length} items</td>
              <td>₹${order.total.toFixed(2)}</td>
              <td><span class="status status-${order.status.toLowerCase()}">${order.status}</span></td>
              <td>${new Date(order.createdAt).toLocaleDateString()}</td>
              <td class="table-actions">
                <button class="btn-icon btn-primary" onclick="viewOrder('${order.orderId}')">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="btn-icon btn-danger" onclick="deleteOrder('${order.orderId}')">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            `;
            tableBody.appendChild(row);
          });
        })
        .catch(error => console.error('Error filtering orders:', error));
    }

    function filterMenuItems() {
      const category = document.getElementById('categoryFilter').value;
      let url = 'http://localhost:5000/api/menu';

      if (category !== 'all') {
        url += `?category=${category}`;
      }

      fetch(url)
        .then(response => response.json())
        .then(data => {
          // Re-render the menu items table with filtered data
          const tableBody = document.getElementById('menuTableBody');
          tableBody.innerHTML = '';

          data.forEach(item => {
            // Same code as in loadMenuItems()
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${item.name}</td>
              <td>${item.category}</td>
              <td>${item.price.toFixed(2)}</td>
              <td>${item.description}</td>
              <td>${item.availability}</td>
              <td class="table-actions">
                <button class="btn-icon btn-primary" onclick="editMenuItem('${item._id}')">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon btn-danger" onclick="deleteMenuItem('${item._id}')">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            `;
            tableBody.appendChild(row);
          });
        })
        .catch(error => console.error('Error filtering menu items:', error));
    }

  </script>

  <script>
    function updateDashboardUI(data) {
      // Update counts
      document.getElementById('totalOrdersCount').textContent = data.totalOrdersCount;
      document.getElementById('pendingOrdersCount').textContent = data.pendingOrdersCount;
      document.getElementById('revenueAmount').textContent = `₹${data.totalRevenue.toFixed(2)}`;

      // Update trends
      updateTrendDisplay('ordersTrend', 'ordersTrendText', data.ordersTrend);
      updateTrendDisplay('revenueTrend', 'revenueTrendText', data.revenueTrend);
    }

    function updateTrendDisplay(trendElementId, textElementId, trendValue) {
      const trendElement = document.getElementById(trendElementId);
      const textElement = document.getElementById(textElementId);
      const iconElement = trendElement.querySelector('i');

      if (trendValue > 0) {
        iconElement.className = 'fas fa-arrow-up';
        trendElement.style.color = '#065f46'; // green
        textElement.textContent = `Up ${Math.abs(trendValue).toFixed(1)}% from yesterday`;
      } else if (trendValue < 0) {
        iconElement.className = 'fas fa-arrow-down';
        trendElement.style.color = '#b91c1c'; // red
        textElement.textContent = `Down ${Math.abs(trendValue).toFixed(1)}% from yesterday`;
      } else {
        iconElement.className = 'fas fa-minus';
        trendElement.style.color = '#525252'; // gray
        textElement.textContent = `Same as yesterday`;
      }
    }
  </script>

  <script>
    // Assuming this is in a file like dashboard.js
// This will work directly with your Mongoose model

async function loadDashboardData() {
  try {
    const response = await fetch('http://localhost:5000/orders/dashboard/summary');
    
    if (!response.ok) {
      throw new Error(`API responded with status: ${response.status}`);
    }
    
    const dashboardData = await response.json();
    console.log("Dashboard data received:", dashboardData);
    
    // Check if elements exist
    console.log("Total orders element exists:", !!document.getElementById('totalOrdersCount'));
    console.log("Pending orders element exists:", !!document.getElementById('pendingOrdersCount'));
    console.log("Revenue element exists:", !!document.getElementById('revenueAmount'));
    
    // Update the dashboard with the returned data
    updateDashboardUI(dashboardData);
  } catch (error) {
    console.error('Error loading dashboard data:', error);
    displayErrorMessage('Failed to load dashboard data');
  }
}

function updateDashboardUI(data) {
  console.log("Updating UI with data:", data);
  
  const totalOrdersElement = document.getElementById('totalOrdersCount');
  const pendingOrdersElement = document.getElementById('pendingOrdersCount');
  const revenueElement = document.getElementById('revenueAmount');
  
  console.log("Elements found:", { 
    totalOrdersElement, 
    pendingOrdersElement, 
    revenueElement 
  });
  
  if (totalOrdersElement) {
    totalOrdersElement.textContent = data.totalOrdersCount;
    console.log("Updated total orders to:", data.totalOrdersCount);
  } else {
    console.error("Total orders element not found");
  }
  
  if (pendingOrdersElement) {
    pendingOrdersElement.textContent = data.pendingOrdersCount;
    console.log("Updated pending orders to:", data.pendingOrdersCount);
  } else {
    console.error("Pending orders element not found");
  }
  
  if (revenueElement) {
    revenueElement.textContent = `₹${data.totalRevenue.toFixed(2)}`;
    console.log("Updated revenue to:", `₹${data.totalRevenue.toFixed(2)}`);
  } else {
    console.error("Revenue element not found");
  }
  
  // Rest of the function
 
}
loadDashboardData()
  </script>


</body>

</html>